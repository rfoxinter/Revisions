\usepackage[utf8]{inputenc}
\usepackage[french]{babel}
\usepackage[T1]{fontenc}
\usepackage{adjustbox}
\usepackage{amsmath, amsfonts, amssymb}
\usepackage{stmaryrd}
\renewcommand\l{\left(}
\renewcommand\r{\right)}
\newcommand{\llb}{\left\llbracket}
\newcommand{\rrb}{\right\rrbracket}
\let\oldleft\left
\renewcommand{\left}{\mathopen{}\mathclose\bgroup\oldleft}
\let\oldright\right
\renewcommand{\right}{\aftergroup\egroup\oldright}
\let\oldfrac\frac
\let\frac\dfrac
\mathcode`l="8000
\begingroup
\makeatletter
\lccode`\~=`\l
\DeclareMathSymbol{\lsb@l}{\mathalpha}{letters}{`l}
\lowercase{\gdef~{\ifnum\the\mathgroup=\m@ne \ell \else \lsb@l \fi}}%
\endgroup
\makeatother
\let\oldvec\vec
\renewcommand{\vec}{\overrightarrow}
\renewcommand*{\overrightarrow}[1]{\vbox{\halign{##\cr\scriptsize\rightarrowfill\cr\noalign{\nointerlineskip\vskip1pt}$#1\mskip2mu$\cr}}}